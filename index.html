<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواقع وأدوات الذكاء الاصطناعي</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#5D5CDE',
                            dark: '#4B4AC7'
                        }
                    },
                    fontFamily: {
                        sans: ['Tajawal', 'sans-serif'],
                    },
                }
            }
        }

        // Check for dark mode preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        
        // Listen for changes in color scheme preference
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
</head>
<body class="font-sans bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200">
    <header class="bg-white dark:bg-gray-800 shadow">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold text-primary dark:text-primary-dark">مواقع وأدوات الذكاء الاصطناعي</h1>
                    <p class="mt-2 text-gray-600 dark:text-gray-400">استكشف أحدث وأفضل أدوات الذكاء الاصطناعي</p>
                </div>
                <button id="theme-toggle" class="p-2 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-primary">
                    <span class="material-icons text-gray-600 dark:text-gray-300 dark:hidden">dark_mode</span>
                    <span class="material-icons text-gray-600 dark:text-gray-300 hidden dark:block">light_mode</span>
                </button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- Search Box -->
        <div class="mb-8">
            <div class="relative">
                <input 
                    type="text" 
                    id="search-input" 
                    placeholder="ابحث عن أداة..." 
                    class="w-full px-4 py-3 rounded-lg shadow-sm border-gray-300 focus:border-primary focus:ring focus:ring-primary/30 focus:ring-opacity-50 dark:bg-gray-800 dark:border-gray-700 dark:text-white text-base"
                >
                <span class="material-icons absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">search</span>
            </div>
        </div>

        <!-- Categories Filter -->
        <div class="flex flex-wrap gap-2 mb-8">
            <button class="category-filter active px-4 py-2 rounded-full bg-primary text-white hover:bg-primary-dark flex items-center gap-2" data-category="all">
                <span>الكل</span>
                <span class="category-count bg-white bg-opacity-30 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
            <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex items-center gap-2" data-category="text">
                <span>معالجة النصوص</span>
                <span class="category-count bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
            <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex items-center gap-2" data-category="image">
                <span>معالجة الصور</span>
                <span class="category-count bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
            <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex items-center gap-2" data-category="chat">
                <span>المحادثة</span>
                <span class="category-count bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
            <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex items-center gap-2" data-category="audio">
                <span>الصوت</span>
                <span class="category-count bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
            <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex items-center gap-2" data-category="video">
                <span>الفيديو</span>
                <span class="category-count bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
            <button class="category-filter px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 flex items-center gap-2" data-category="tools">
                <span>أدوات متنوعة</span>
                <span class="category-count bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold"></span>
            </button>
        </div>

        <!-- AI Tools Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="tools-container">
            <!-- Cards will be added dynamically via JavaScript -->
            <!-- Loading placeholder -->
            <div id="loading" class="col-span-full text-center py-12">
                <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div>
                <p class="mt-4 text-gray-600 dark:text-gray-400">جاري تحميل الأدوات...</p>
            </div>
        </div>
    </main>

    <!-- Modal for Tool Details -->
    <div id="tool-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-start">
                    <h2 id="modal-title" class="text-2xl font-bold text-primary dark:text-primary-dark"></h2>
                    <button id="close-modal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <span class="material-icons">close</span>
                    </button>
                </div>
                
                <div class="mt-4">
                    <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400 mb-3">
                        <span class="material-icons text-base">category</span>
                        <span id="modal-category"></span>
                    </div>

                    <h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">ماذا يفعل:</h3>
                    <p id="modal-description" class="text-gray-700 dark:text-gray-300 mb-4"></p>
                    
                    <h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">مميزات الأداة:</h3>
                    <ul id="modal-features" class="list-disc list-inside text-gray-700 dark:text-gray-300 mb-4"></ul>
                    
                    <h3 class="font-bold mb-2 text-gray-800 dark:text-gray-200">خطة التسعير:</h3>
                    <p id="modal-pricing" class="text-gray-700 dark:text-gray-300 mb-4"></p>
                    
                    <div class="mt-6">
                        <a id="modal-url" href="#" target="_blank" class="inline-flex items-center gap-2 bg-primary hover:bg-primary-dark text-white font-bold py-2 px-4 rounded">
                            زيارة الموقع
                            <span class="material-icons text-sm">open_in_new</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const aiTools = [
            {
                id: 1,
                name: "ChatGPT",
                description: "روبوت محادثة ذكي طورته OpenAI، يمكنه توليد نصوص طبيعية ومتماسكة.",
                features: [
                    "إنشاء محتوى نصي بلغة طبيعية",
                    "الإجابة على الأسئلة وتقديم المعلومات",
                    "مساعدة في كتابة المقالات والرسائل",
                    "ترجمة النصوص بين اللغات المختلفة"
                ],
                category: "chat",
                categoryName: "المحادثة",
                pricing: "نسخة مجانية متاحة، واشتراك شهري للإصدار المتقدم (ChatGPT Plus) بقيمة 20 دولار شهرياً",
                url: "https://chat.openai.com"
            },
            {
                id: 21,
                name: "KREA",
                description: "أداة لتوليد الصور الإبداعية باستخدام الذكاء الاصطناعي، مع واجهة سهلة الاستخدام وقدرات تحرير متقدمة.",
                features: [
                    "توليد صور فنية من وصف نصي",
                    "تحرير الصور بواجهة سهلة الاستخدام",
                    "أساليب فنية متنوعة",
                    "استكشاف المحتوى المنشئ بواسطة المستخدمين الآخرين"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "نسخة مجانية محدودة، واشتراكات مدفوعة للميزات المتقدمة",
                url: "https://www.krea.ai"
            },
            {
                id: 22,
                name: "Pika Labs",
                description: "منصة لإنشاء وتحرير مقاطع الفيديو باستخدام الذكاء الاصطناعي، تحول النص إلى محتوى مرئي متحرك.",
                features: [
                    "إنشاء فيديوهات من وصف نصي",
                    "تحويل الصور الثابتة إلى فيديو",
                    "تخصيص أسلوب ومدة الفيديو",
                    "تحرير الفيديو بأدوات بسيطة"
                ],
                category: "video",
                categoryName: "الفيديو",
                pricing: "نموذج مختلط من الاستخدام المجاني والرصيد المدفوع",
                url: "https://pika.art"
            },
            {
                id: 23,
                name: "Firefly",
                description: "أداة من Adobe لتوليد الصور والفن الإبداعي باستخدام الذكاء الاصطناعي، متكاملة مع منتجات Adobe الأخرى.",
                features: [
                    "إنشاء صور إبداعية من وصف نصي",
                    "التكامل مع برامج Adobe Creative Cloud",
                    "أدوات تحرير وتنقيح متقدمة",
                    "مراعاة حقوق الملكية الفكرية"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "متاح ضمن اشتراك Adobe Creative Cloud",
                url: "https://www.adobe.com/products/firefly.html"
            },
            {
                id: 24,
                name: "Murf",
                description: "منصة لتحويل النص إلى صوت طبيعي باستخدام الذكاء الاصطناعي، مع أصوات واقعية بلغات متعددة.",
                features: [
                    "تحويل النص إلى صوت بشري طبيعي",
                    "أكثر من 120 صوتاً بجودة عالية",
                    "دعم أكثر من 20 لغة",
                    "تحكم دقيق في نبرة وسرعة الصوت"
                ],
                category: "audio",
                categoryName: "الصوت",
                pricing: "نسخة مجانية محدودة، واشتراكات مدفوعة للاستخدام المهني",
                url: "https://murf.ai"
            },
            {
                id: 25,
                name: "Copy.ai",
                description: "أداة لكتابة المحتوى التسويقي والإبداعي باستخدام الذكاء الاصطناعي، تساعد في توليد نصوص متنوعة.",
                features: [
                    "كتابة محتوى تسويقي احترافي",
                    "قوالب متعددة لمختلف أنواع المحتوى",
                    "دعم أكثر من 25 لغة",
                    "تحسين النصوص الحالية وإعادة صياغتها"
                ],
                category: "text",
                categoryName: "معالجة النصوص",
                pricing: "خطة مجانية محدودة، واشتراكات شهرية للاستخدام المكثف",
                url: "https://www.copy.ai"
            },
            {
                id: 2,
                name: "DALL·E",
                description: "أداة توليد صور من OpenAI تحول الوصف النصي إلى صور واقعية وإبداعية.",
                features: [
                    "إنشاء صور من وصف نصي",
                    "تعديل الصور الموجودة بناءً على التعليمات",
                    "توليد أنماط فنية متنوعة",
                    "تخصيص الصور حسب الطلب"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "نظام الرصيد (Credit)، مع إتاحة بعض الرصيد المجاني شهرياً للمستخدمين",
                url: "https://openai.com/dall-e-3"
            },
            {
                id: 3,
                name: "Midjourney",
                description: "أداة لتوليد الصور باستخدام الذكاء الاصطناعي، تتميز بإنتاج صور فنية عالية الجودة.",
                features: [
                    "إنشاء صور فنية من وصف نصي",
                    "تخصيص الأنماط الفنية والمراجع",
                    "تعديل وتنقيح الصور بأوامر إضافية",
                    "مجتمع نشط للتعلم وتبادل الأفكار"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "اشتراك شهري يبدأ من 10 دولار، مع خطط مختلفة حسب الاستخدام",
                url: "https://www.midjourney.com"
            },
            {
                id: 4,
                name: "Claude",
                description: "روبوت محادثة متقدم طورته Anthropic، يتميز بقدرات فهم النص المعقدة والتفكير المنطقي.",
                features: [
                    "محادثات طبيعية وطويلة",
                    "المساعدة في البحث والتحليل",
                    "التعامل مع النصوص الطويلة",
                    "إنشاء محتوى إبداعي وأكاديمي"
                ],
                category: "chat",
                categoryName: "المحادثة",
                pricing: "نسخة مجانية محدودة، واشتراك شهري للإصدار المتقدم (Claude Pro)",
                url: "https://claude.ai"
            },
            {
                id: 5,
                name: "Stable Diffusion",
                description: "منصة مفتوحة المصدر لتوليد الصور من النص، يمكن تشغيلها محلياً على الحاسوب الشخصي.",
                features: [
                    "توليد صور من وصف نصي",
                    "قابلية التخصيص والتطوير",
                    "إمكانية التشغيل المحلي",
                    "مجتمع نشط من المطورين والفنانين"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "مفتوح المصدر ومجاني، مع خدمات استضافة مدفوعة متاحة من أطراف ثالثة",
                url: "https://stability.ai"
            },
            {
                id: 6,
                name: "Gemini",
                description: "نموذج ذكاء اصطناعي متعدد الوسائط من Google، يمكنه فهم ومعالجة النصوص والصور والفيديو.",
                features: [
                    "فهم متعدد الوسائط (نص، صور، فيديو)",
                    "قدرات استدلال متقدمة",
                    "تحليل ومعالجة البيانات المعقدة",
                    "التكامل مع خدمات Google"
                ],
                category: "chat",
                categoryName: "المحادثة",
                pricing: "نسخة مجانية محدودة، واشتراك شهري للإصدار المتقدم (Gemini Advanced)",
                url: "https://gemini.google.com"
            },
            {
                id: 7,
                name: "Runway",
                description: "منصة لإنشاء وتحرير الفيديو باستخدام الذكاء الاصطناعي، تقدم أدوات احترافية للإبداع البصري.",
                features: [
                    "إنشاء مقاطع فيديو من نص",
                    "تعديل الفيديو بالذكاء الاصطناعي",
                    "توليد تأثيرات بصرية متقدمة",
                    "تقنيات تحرير سهلة الاستخدام"
                ],
                category: "video",
                categoryName: "الفيديو",
                pricing: "اشتراك شهري بخطط متنوعة تبدأ من 15 دولار شهرياً",
                url: "https://runwayml.com"
            },
            {
                id: 8,
                name: "ElevenLabs",
                description: "منصة لتوليد الصوت باستخدام الذكاء الاصطناعي، تتيح إنشاء أصوات طبيعية بلغات متعددة.",
                features: [
                    "إنشاء أصوات بشرية واقعية",
                    "تحويل النص إلى كلام طبيعي",
                    "دعم أكثر من 29 لغة",
                    "التحكم في نبرة ولهجة الصوت"
                ],
                category: "audio",
                categoryName: "الصوت",
                pricing: "خطة مجانية محدودة، واشتراكات شهرية متدرجة تبدأ من 5 دولار",
                url: "https://elevenlabs.io"
            },
            {
                id: 9,
                name: "Copilot",
                description: "مساعد برمجة قائم على الذكاء الاصطناعي طورته GitHub، يساعد المطورين على كتابة وتحسين الكود.",
                features: [
                    "اقتراح كود بناءً على التعليقات والسياق",
                    "إكمال الكود التلقائي",
                    "دعم لغات برمجة متعددة",
                    "التكامل مع بيئات التطوير المختلفة"
                ],
                category: "tools",
                categoryName: "أدوات متنوعة",
                pricing: "مجاني للمشاريع المفتوحة المصدر، واشتراك شهري للاستخدام التجاري",
                url: "https://github.com/features/copilot"
            },
            {
                id: 10,
                name: "Perplexity",
                description: "محرك بحث ذكي يستخدم الذكاء الاصطناعي لتقديم إجابات شاملة ومصادر موثوقة للاستعلامات.",
                features: [
                    "البحث الذكي مع اقتباس المصادر",
                    "تلخيص المعلومات من مصادر متعددة",
                    "تقديم إجابات دقيقة ومحدثة",
                    "توفير روابط للمصادر الأصلية"
                ],
                category: "tools",
                categoryName: "أدوات متنوعة",
                pricing: "نسخة مجانية متاحة، واشتراك Pro بميزات متقدمة",
                url: "https://www.perplexity.ai"
            },
            {
                id: 11,
                name: "Grammarly",
                description: "أداة تدقيق لغوي وتصحيح أخطاء الكتابة باستخدام الذكاء الاصطناعي، تقدم اقتراحات لتحسين النص.",
                features: [
                    "تصحيح الأخطاء النحوية والإملائية",
                    "تحسين الأسلوب ووضوح الكتابة",
                    "اقتراحات للمفردات والصياغة",
                    "التكامل مع مختلف التطبيقات والمتصفحات"
                ],
                category: "text",
                categoryName: "معالجة النصوص",
                pricing: "نسخة مجانية أساسية، واشتراك Premium بميزات متقدمة",
                url: "https://www.grammarly.com"
            },
            {
                id: 12,
                name: "Descript",
                description: "أداة لتحرير الصوت والفيديو باستخدام الذكاء الاصطناعي، تتيح تحرير المحتوى من خلال تحرير النص.",
                features: [
                    "تحويل الكلام إلى نص قابل للتحرير",
                    "تحرير الفيديو من خلال تحرير النص",
                    "إزالة الضوضاء والأصوات غير المرغوبة",
                    "إنشاء نسخ صوتية احترافية"
                ],
                category: "audio",
                categoryName: "الصوت",
                pricing: "نسخة مجانية محدودة، واشتراكات متدرجة للاستخدام المهني",
                url: "https://www.descript.com"
            },
            {
                id: 13,
                name: "Leonardo.AI",
                description: "منصة لتوليد وتحرير الصور الاحترافية باستخدام الذكاء الاصطناعي، مصممة للفنانين والمصممين.",
                features: [
                    "إنشاء صور فنية عالية الجودة",
                    "تخصيص الأساليب الفنية",
                    "تحرير وتعديل الصور الموجودة",
                    "مكتبة من النماذج الفنية المتنوعة"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "خطة مجانية محدودة، واشتراكات شهرية للاستخدام المكثف",
                url: "https://leonardo.ai"
            },
            {
                id: 14,
                name: "Synthesia",
                description: "منصة لإنشاء فيديوهات بمتحدثين افتراضيين، تحول النص إلى فيديو احترافي بسهولة.",
                features: [
                    "إنشاء فيديوهات من نص",
                    "اختيار من بين عشرات المتحدثين الافتراضيين",
                    "دعم أكثر من 120 لغة",
                    "تخصيص الخلفيات والعناصر المرئية"
                ],
                category: "video",
                categoryName: "الفيديو",
                pricing: "اشتراك شهري يبدأ من 30 دولار، مع خطط مؤسسية",
                url: "https://www.synthesia.io"
            },
            {
                id: 15,
                name: "Jasper",
                description: "منصة لإنشاء المحتوى التسويقي باستخدام الذكاء الاصطناعي، تساعد على كتابة نصوص احترافية سريعاً.",
                features: [
                    "إنشاء محتوى تسويقي متنوع",
                    "كتابة مقالات ومنشورات ووصف منتجات",
                    "أكثر من 50 قالب محتوى",
                    "التكامل مع أدوات التسويق الأخرى"
                ],
                category: "text",
                categoryName: "معالجة النصوص",
                pricing: "اشتراك شهري يبدأ من 49 دولار، مع فترة تجريبية مجانية",
                url: "https://www.jasper.ai"
            },
            {
                id: 16,
                name: "Hugging Face",
                description: "منصة للذكاء الاصطناعي تتيح الوصول إلى آلاف النماذج المفتوحة المصدر واستخدامها وتطويرها.",
                features: [
                    "مكتبة ضخمة من نماذج الذكاء الاصطناعي",
                    "أدوات تطوير وضبط النماذج",
                    "تطبيقات جاهزة للاستخدام",
                    "مجتمع نشط من المطورين والباحثين"
                ],
                category: "tools",
                categoryName: "أدوات متنوعة",
                pricing: "استخدام مجاني للعديد من النماذج، مع خيارات مدفوعة للاستضافة والخدمات المتقدمة",
                url: "https://huggingface.co"
            },
            {
                id: 17,
                name: "Notion AI",
                description: "ميزة ذكاء اصطناعي مدمجة في منصة Notion، تساعد في إنشاء وتحرير وتلخيص المحتوى.",
                features: [
                    "كتابة وتحرير المحتوى داخل Notion",
                    "تلخيص النصوص الطويلة",
                    "تحسين الصياغة والأسلوب",
                    "إنشاء قوائم وجداول من النص"
                ],
                category: "text",
                categoryName: "معالجة النصوص",
                pricing: "ميزة إضافية لمستخدمي Notion بتكلفة إضافية شهرية",
                url: "https://www.notion.so/product/ai"
            },
            {
                id: 18,
                name: "Canva",
                description: "منصة تصميم سهلة الاستخدام تتضمن أدوات ذكاء اصطناعي لإنشاء وتحرير التصاميم.",
                features: [
                    "توليد تصاميم وصور باستخدام الذكاء الاصطناعي",
                    "تحرير الصور بأدوات ذكية",
                    "إنشاء نصوص وأوصاف تسويقية",
                    "مكتبة ضخمة من القوالب والعناصر"
                ],
                category: "image",
                categoryName: "معالجة الصور",
                pricing: "نسخة مجانية محدودة، واشتراكات Pro و Teams للميزات المتقدمة",
                url: "https://www.canva.com"
            },
            {
                id: 19,
                name: "Otter.ai",
                description: "أداة لتحويل الكلام إلى نص وتلخيص الاجتماعات باستخدام الذكاء الاصطناعي.",
                features: [
                    "نسخ الاجتماعات والمحادثات تلقائياً",
                    "تمييز المتحدثين المختلفين",
                    "تلخيص المحادثات الطويلة",
                    "مشاركة النصوص والملاحظات بسهولة"
                ],
                category: "audio",
                categoryName: "الصوت",
                pricing: "خطة مجانية محدودة، واشتراكات شهرية للاستخدام المكثف",
                url: "https://otter.ai"
            },
            {
                id: 20,
                name: "Replicate",
                description: "منصة تتيح الوصول إلى نماذج الذكاء الاصطناعي المفتوحة المصدر واستخدامها عبر API.",
                features: [
                    "الوصول إلى مئات نماذج الذكاء الاصطناعي",
                    "تشغيل النماذج دون الحاجة للبنية التحتية",
                    "API سهل الاستخدام",
                    "دعم لنماذج توليد النص والصور والصوت"
                ],
                category: "tools",
                categoryName: "أدوات متنوعة",
                pricing: "الدفع حسب الاستخدام، مع رصيد مجاني للبدء",
                url: "https://replicate.com"
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            const toolsContainer = document.getElementById('tools-container');
            const searchInput = document.getElementById('search-input');
            const modal = document.getElementById('tool-modal');
            const closeModal = document.getElementById('close-modal');
            const categoryFilters = document.querySelectorAll('.category-filter');
            const categoryCounters = document.querySelectorAll('.category-count');
            const themeToggle = document.getElementById('theme-toggle');
            const loading = document.getElementById('loading');

            let currentCategory = 'all';
            let searchTerm = '';

            // Theme Toggle Logic - without localStorage
            themeToggle.addEventListener('click', () => {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                } else {
                    document.documentElement.classList.add('dark');
                }
            });

            // Check system dark mode preference
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            // Calculate category counts and update badges
            function updateCategoryCounts() {
                // Count for "all" category
                categoryCounters[0].textContent = aiTools.length;
                
                // Count for specific categories
                const categoryCounts = {};
                aiTools.forEach(tool => {
                    categoryCounts[tool.category] = (categoryCounts[tool.category] || 0) + 1;
                });
                
                // Update counters for specific categories
                categoryFilters.forEach((filter, index) => {
                    if (index === 0) return; // Skip "all" category as it's already set
                    
                    const category = filter.getAttribute('data-category');
                    const count = categoryCounts[category] || 0;
                    const counter = filter.querySelector('.category-count');
                    counter.textContent = count;
                });
            }

            // Simulate loading
            setTimeout(() => {
                loading.style.display = 'none';
                updateCategoryCounts();
                renderTools();
            }, 800);

            // Render tools based on filters
            function renderTools() {
                toolsContainer.innerHTML = '';
                
                const filteredTools = aiTools.filter(tool => {
                    const matchesCategory = currentCategory === 'all' || tool.category === currentCategory;
                    const matchesSearch = tool.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                          tool.description.toLowerCase().includes(searchTerm.toLowerCase());
                    return matchesCategory && matchesSearch;
                });

                if (filteredTools.length === 0) {
                    const noResults = document.createElement('div');
                    noResults.className = 'col-span-full text-center py-12';
                    noResults.innerHTML = `
                        <span class="material-icons text-5xl text-gray-400">search_off</span>
                        <p class="mt-4 text-gray-600 dark:text-gray-400">لم يتم العثور على نتائج مطابقة للبحث</p>
                    `;
                    toolsContainer.appendChild(noResults);
                    return;
                }

                filteredTools.forEach(tool => {
                    const card = document.createElement('div');
                    card.className = 'bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden cursor-pointer h-full flex flex-col';
                    card.setAttribute('data-id', tool.id);
                    
                    // Generate a simple geometric pattern using SVG
                    const hue = (tool.id * 35) % 360; // Unique hue for each tool
                    const lightness = 85; // Keep it light so it doesn't interfere with content
                    
                    card.innerHTML = `
                        <div class="h-32 bg-gradient-to-br from-primary/10 to-primary/30 dark:from-primary/20 dark:to-primary/40 relative overflow-hidden">
                            <svg viewBox="0 0 200 100" class="absolute inset-0 w-full h-full opacity-30">
                                <defs>
                                    <pattern id="pattern-${tool.id}" patternUnits="userSpaceOnUse" width="40" height="40" patternTransform="rotate(45)">
                                        <rect width="100%" height="100%" fill="none"/>
                                        <circle cx="20" cy="20" r="3" fill="hsl(${hue}, 70%, ${lightness}%)" />
                                        <circle cx="0" cy="0" r="2" fill="hsl(${(hue + 30) % 360}, 70%, ${lightness}%)" />
                                        <circle cx="40" cy="40" r="2" fill="hsl(${(hue + 30) % 360}, 70%, ${lightness}%)" />
                                    </pattern>
                                </defs>
                                <rect width="100%" height="100%" fill="url(#pattern-${tool.id})" />
                            </svg>
                            <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-white dark:from-gray-800 h-16"></div>
                        </div>
                        <div class="p-5 flex-1 flex flex-col">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-xl font-bold text-gray-800 dark:text-white">${tool.name}</h3>
                                <span class="px-2 py-1 text-xs rounded-full bg-primary/10 text-primary dark:bg-primary/20">
                                    ${tool.categoryName}
                                </span>
                            </div>
                            <p class="text-gray-600 dark:text-gray-300 text-sm flex-1">${tool.description}</p>
                            <div class="mt-4 pt-3 border-t border-gray-100 dark:border-gray-700">
                                <button class="text-primary dark:text-primary-dark font-medium flex items-center text-sm">
                                    عرض التفاصيل
                                    <span class="material-icons text-sm mr-1">arrow_left</span>
                                </button>
                            </div>
                        </div>
                    `;
                    
                    card.addEventListener('click', () => showToolDetails(tool));
                    toolsContainer.appendChild(card);
                });
            }

            // Show tool details in modal
            function showToolDetails(tool) {
                document.getElementById('modal-title').textContent = tool.name;
                document.getElementById('modal-category').textContent = tool.categoryName;
                document.getElementById('modal-description').textContent = tool.description;
                document.getElementById('modal-pricing').textContent = tool.pricing;
                
                const featuresList = document.getElementById('modal-features');
                featuresList.innerHTML = '';
                tool.features.forEach(feature => {
                    const li = document.createElement('li');
                    li.textContent = feature;
                    featuresList.appendChild(li);
                });
                
                const urlElement = document.getElementById('modal-url');
                urlElement.href = tool.url;
                
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }

            // Close modal
            closeModal.addEventListener('click', () => {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            });

            // Close modal when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }
            });

            // Search input handler
            searchInput.addEventListener('input', (e) => {
                searchTerm = e.target.value.trim();
                renderTools();
            });

            // Category filter handlers
            categoryFilters.forEach(btn => {
                btn.addEventListener('click', () => {
                    categoryFilters.forEach(b => b.classList.remove('active', 'bg-primary', 'text-white'));
                    categoryFilters.forEach(b => {
                        b.classList.add('bg-gray-200', 'text-gray-800', 'dark:bg-gray-700', 'dark:text-gray-200');
                        b.querySelector('.category-count').classList.remove('bg-white', 'bg-opacity-30', 'text-white');
                        b.querySelector('.category-count').classList.add('bg-gray-300', 'dark:bg-gray-600', 'text-gray-800', 'dark:text-gray-200');
                    });
                    
                    btn.classList.remove('bg-gray-200', 'text-gray-800', 'dark:bg-gray-700', 'dark:text-gray-200');
                    btn.classList.add('active', 'bg-primary', 'text-white');
                    
                    const counter = btn.querySelector('.category-count');
                    counter.classList.remove('bg-gray-300', 'dark:bg-gray-600', 'text-gray-800', 'dark:text-gray-200');
                    counter.classList.add('bg-white', 'bg-opacity-30', 'text-white');
                    
                    currentCategory = btn.getAttribute('data-category');
                    renderTools();
                });
            });

            // Handle Escape key to close modal
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    modal.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                }
            });
        });
    </script>
</body>
</html>
